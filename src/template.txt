package com.newchama.api;

import android.content.Context;

import com.loopj.android.http.RequestHandle;
import com.loopj.android.http.ResponseHandlerInterface;

import com.newchama.tool.net.NetRequest;
import com.newchama.tool.net.NetRequest.Method;
import com.newchama.tool.net.NetWorker;

import java.io.File;
import java.util.Date;
import java.util.List;

import org.json.JSONArray;


public class {ytxu.ClassName} extends BaseApi {

	private volatile static {ytxu.ClassName} instance;
	private {ytxu.ClassName}() {}
	public static void registerInstance() {
		if (instance == null) {
			synchronized ({ytxu.ClassName}.class) {
				if (instance == null) {
					instance = new {ytxu.ClassName}();
				}
			}
		}
		HttpApi.set{ytxu.ClassName}(instance);
	}

{ytxu.list-methodStart}
	/**
	 * {ytxu.description}
	 * @version {ytxu.version}
	 * @requestUrl {ytxu.requestUrl}
	 */
	public RequestHandle {ytxu.methodName}(Context cxt001,
		/** headers */  {ytxu.list-headers}  {ytxu.fieldType} {ytxu.fieldName},
		/** fields */  {ytxu.list-fields} {ytxu.fieldType} {ytxu.fieldName},
		ResponseHandlerInterface response) {
		NetRequest request = new NetRequest();
		request.setMethod(Method.{ytxu.method});

		request.setUrl(getFullUrl("/api/account/membercard"));
//		request.addHeader("Authorization", Authorization);// 过滤掉Token，设置工作交给获取到的时候，由程序员，直接在HttpClient SingleInstance中设置到header中去

		request.addParam("card", card);

		return NetWorker.execute(cxt001, request, response);
	}
{ytxu.list-methodEnd}

}



package com.newchama.api.V${version_code}.api;

public class HttpApiV${version_code} {

<foreach each="sections">
	private static ${section_class_name} ${section_name};
</foreach>

<foreach each="sections">
	public static ${section_class_name} ${section_name}() {
		if (null == ${section_name}) {
			${section_name} = ${section_class_name}.getInstance();
		}
		return ${section_name};
	}

</foreach>

}